{"title":"斗地主所有牌型组合个数统计","slug":"138712181744994","date":"2018-12-03T13:48:23.000Z","updated":"2023-09-08T06:12:36.538Z","comments":true,"path":"api/articles/138712181744994.json","excerpt":null,"covers":["/.com//4%E4%B8%AA3.png","/.com//%E7%BB%84%E5%90%88.png"],"content":"<h1 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h1><p>最近业余时间在研究排列组合的相关问题,话题涉及到了<strong>在不考虑花色的情况下？54张牌按照斗地主的方式以20，17，17的方式分给3个人有多少中可能解决方案？</strong><br>我觉得这个问题有点意思，并以sql脚本的形式实现了问题的求解过程，希望大家能从这篇文章中所有收获。</p>\n<h1 id=\"问题分析\"><a href=\"#问题分析\" class=\"headerlink\" title=\"问题分析\"></a>问题分析</h1><p>以4个3为例，分给地主1，农民2，农民3的所有组合情况如下：<br><img src=\"/.com//4%E4%B8%AA3.png\" alt=\"4个3的组合情况\"><br>既4个3在3个玩家中的可能情况有15种。在不考虑斗地主手牌数限制的情况下,因A到K有13张牌，则A到K的所有位置的组合数有$15^{13}$种可能性。<br>以大王为例,分给地主1，农民2，农民3的所有组合情况如下：<br><img src=\"/.com//%E5%A4%A7%E7%8E%8B.png\" alt=\"大王的组合情况\"><br>在不考虑斗地主手牌数限制的情况下,大王和小王在三家的可能性有3*3&#x3D;9种可能性。<br>所以牌型组合的理论上限是$9*15^{13}$。接近于$1.75*10^{16}$。  </p>\n<p><img src=\"/.com//%E7%BB%84%E5%90%88.png\" alt=\"组合情况的一种\"><br>根据<a href=\"https://baike.baidu.com/item/%E8%AE%A1%E6%95%B0%E5%8E%9F%E7%90%86/4032370\">计数原理</a>,结合上图可知：<br>如果3<del>7在玩家1，2，3的手牌张数分别是20，0，0的可行方法是1种。<br>如果8</del>Q在玩家1，2，3的手牌张数分别是0，17，3的可行方法是35种。<br>如果K到大王在玩家1，2，3的手牌张数分别是0，0，14的可行方法是1种。<br>所以三个步骤组合起来的总可行方法是$1*35*1&#x3D;35$种方法。</p>\n<p>具体细节参考<a href=\"https://github.com/ddabb/138712181744994/blob/master/product.sql\">Sql server版斗地主牌型组合统计的代码</a>,最终的出来的结果是<strong>138712181744994</strong>,即$1.3871*10^{14}$。即在不区分花色的情况下，斗地主所有的牌型组合数。</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>记录斗地主的所有牌型这种方式来做AI是不切实际的，毕竟普通PC机是没有办法存储$1.3871*10^{14}$条数据的。</p>\n<hr>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://baike.baidu.com/item/%E8%AE%A1%E6%95%B0%E5%8E%9F%E7%90%86/4032370\">计数原理</a></li>\n<li><a href=\"https://www.60points.com/combination/\">m个球放到n个箱子中几种解法</a></li>\n<li><a href=\"https://www.60points.com/Fight-the-Landlord-Card-Type-Aanalysis/\">欢乐斗地主出牌方式统计</a></li>\n</ul>\n","more":"<h1 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h1><p>最近业余时间在研究排列组合的相关问题,话题涉及到了<strong>在不考虑花色的情况下？54张牌按照斗地主的方式以20，17，17的方式分给3个人有多少中可能解决方案？</strong><br>我觉得这个问题有点意思，并以sql脚本的形式实现了问题的求解过程，希望大家能从这篇文章中所有收获。</p>\n<h1 id=\"问题分析\"><a href=\"#问题分析\" class=\"headerlink\" title=\"问题分析\"></a>问题分析</h1><p>以4个3为例，分给地主1，农民2，农民3的所有组合情况如下：<br><img src=\"/.com//4%E4%B8%AA3.png\" alt=\"4个3的组合情况\"><br>既4个3在3个玩家中的可能情况有15种。在不考虑斗地主手牌数限制的情况下,因A到K有13张牌，则A到K的所有位置的组合数有$15^{13}$种可能性。<br>以大王为例,分给地主1，农民2，农民3的所有组合情况如下：<br><img src=\"/.com//%E5%A4%A7%E7%8E%8B.png\" alt=\"大王的组合情况\"><br>在不考虑斗地主手牌数限制的情况下,大王和小王在三家的可能性有3*3&#x3D;9种可能性。<br>所以牌型组合的理论上限是$9*15^{13}$。接近于$1.75*10^{16}$。  </p>\n<p><img src=\"/.com//%E7%BB%84%E5%90%88.png\" alt=\"组合情况的一种\"><br>根据<a href=\"https://baike.baidu.com/item/%E8%AE%A1%E6%95%B0%E5%8E%9F%E7%90%86/4032370\">计数原理</a>,结合上图可知：<br>如果3<del>7在玩家1，2，3的手牌张数分别是20，0，0的可行方法是1种。<br>如果8</del>Q在玩家1，2，3的手牌张数分别是0，17，3的可行方法是35种。<br>如果K到大王在玩家1，2，3的手牌张数分别是0，0，14的可行方法是1种。<br>所以三个步骤组合起来的总可行方法是$1*35*1&#x3D;35$种方法。</p>\n<p>具体细节参考<a href=\"https://github.com/ddabb/138712181744994/blob/master/product.sql\">Sql server版斗地主牌型组合统计的代码</a>,最终的出来的结果是<strong>138712181744994</strong>,即$1.3871*10^{14}$。即在不区分花色的情况下，斗地主所有的牌型组合数。</p>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>记录斗地主的所有牌型这种方式来做AI是不切实际的，毕竟普通PC机是没有办法存储$1.3871*10^{14}$条数据的。</p>\n<hr>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://baike.baidu.com/item/%E8%AE%A1%E6%95%B0%E5%8E%9F%E7%90%86/4032370\">计数原理</a></li>\n<li><a href=\"https://www.60points.com/combination/\">m个球放到n个箱子中几种解法</a></li>\n<li><a href=\"https://www.60points.com/Fight-the-Landlord-Card-Type-Aanalysis/\">欢乐斗地主出牌方式统计</a></li>\n</ul>\n","categories":[{"name":"逻辑思维","path":"api/categories/逻辑思维.json"}],"tags":[{"name":"欢乐斗地主","path":"api/tags/欢乐斗地主.json"},{"name":"排列组合","path":"api/tags/排列组合.json"}]}
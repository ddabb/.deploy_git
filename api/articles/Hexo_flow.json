{"title":"Hexo画流程图","slug":"Hexo_flow","date":"2018-11-24T12:10:41.000Z","updated":"2023-09-08T06:12:36.545Z","comments":true,"path":"api/articles/Hexo_flow.json","excerpt":null,"covers":null,"content":"<h1 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h1><p>该文简单介绍一下在Hexo博客上画流程图。</p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"mermaid\"><a href=\"#mermaid\" class=\"headerlink\" title=\"mermaid\"></a>mermaid</h2><p>安装代码</p>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-<span class=\"built_in\">filter</span>-mermaid-diagrams</span><br></pre></td></tr></table></figure>\n<p>打开<strong>themes/next/_config.yml</strong><br>添加以下代码</p>\n<figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># mermaid chart</span></span><br><span class=\"line\"><span class=\"symbol\">mermaid:</span> <span class=\"meta\">## mermaid url https:<span class=\"comment\">//github.com/knsv/mermaid</span></span></span><br><span class=\"line\"><span class=\"symbol\">  enable:</span> true  <span class=\"meta\"># default true</span></span><br><span class=\"line\"><span class=\"symbol\">  version:</span> <span class=\"string\">&quot;7.1.2&quot;</span> <span class=\"meta\"># default v7.1.2</span></span><br><span class=\"line\"><span class=\"symbol\">  options:</span>  <span class=\"meta\"># find more api options from https:<span class=\"comment\">//github.com/knsv/mermaid/blob/master/src/mermaidAPI.js</span></span></span><br><span class=\"line\">    <span class=\"meta\">#startOnload: true  <span class=\"comment\">// default true</span></span></span><br></pre></td></tr></table></figure>\n<p>在<strong>themes/next/layout/_partials/footer.swig</strong>最后加上</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> (theme.mermaid.enable)  %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.1.2/mermaid.min.js&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">mermaid</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      mermaid.<span class=\"title function_\">initialize</span>(&#123;<span class=\"attr\">theme</span>: <span class=\"string\">&#x27;forest&#x27;</span>&#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>最后一步修改<strong>根目录的_config.yml</strong>，把external_link的值改为false，默认的为true，这一步绝大多数教程中都没有写。</p>\n<p>mermaid画流程图<br>示例代码</p>\n<blockquote>\n<p>```mermaid<br>graph TD;<br>   起床–&gt;洗漱;<br>   洗漱–&gt;吃早餐;<br>   洗漱–&gt;不吃早餐;<br>   吃早餐–&gt;出门;<br>   不吃早餐–&gt;出门;<br>```  </p>\n</blockquote>\n<p>效果如下</p>\n<pre class=\"mermaid\">graph TD;\n    起床-->洗漱;\n    洗漱-->吃早餐;\n    洗漱-->不吃早餐;\n    吃早餐-->出门;\n    不吃早餐-->出门;</pre>\n\n<h2 id=\"flow\"><a href=\"#flow\" class=\"headerlink\" title=\"flow\"></a>flow</h2><p>安装代码</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"attr\">--save</span> hexo-<span class=\"attribute\">filter</span>-flowchart</span><br></pre></td></tr></table></figure>\n<p>然后无需其余配置<br>flow画流程图示例代码如下</p>\n<blockquote>\n<p>```flow<br>st=&gt;start: Start|past:&gt;<a href=\"http://www.google.com[blank]\">http://www.google.com[blank]</a><br>e=&gt;end: End:&gt;<a href=\"http://www.google.com/\">http://www.google.com</a><br>op1=&gt;operation: My Operation|past<br>op2=&gt;operation: Stuff|current<br>sub1=&gt;subroutine: My Subroutine|invalid<br>cond=&gt;condition: Yes<br>or No?|approved:&gt;<a href=\"http://www.google.com/\">http://www.google.com</a><br>c2=&gt;condition: Good idea|rejected<br>io=&gt;inputoutput: catch something…|request<br>st-&gt;op1(right)-&gt;cond<br>cond(yes, right)-&gt;c2<br>cond(no)-&gt;sub1(left)-&gt;op1<br>c2(yes)-&gt;io-&gt;e<br>c2(no)-&gt;op2-&gt;e<br>```  </p>\n</blockquote>\n<p>flow画流程图效果如下</p>\n<div id=\"flowchart-0\" class=\"flow-chart\"></div>\n\n<h2 id=\"sequence\"><a href=\"#sequence\" class=\"headerlink\" title=\"sequence\"></a>sequence</h2><p>安装代码</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"attr\">--save</span> hexo-<span class=\"attribute\">filter</span>-sequence</span><br></pre></td></tr></table></figure>\n<p>然后无需其余配置。<br>sequence 画流程图示例代码</p>\n<blockquote>\n<p>```sequence<br>Alice-&gt;Bob: Hello Bob, how are you?<br>Note right of Bob: Bob thinks<br>Bob–&gt;Alice: I am good thanks!<br>```  </p>\n</blockquote>\n<p>sequence 画流程图效果如下</p>\n<div id=\"sequence-0\"></div>\n\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>相比之下,mermaid的语法最简洁，渲染成图的过程最复杂，配置也最复杂。<br>而flow和sequence相对而言配置简单一点，但是语法复杂一些。</p>\n<hr>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://www.liuyude.com/How_to_make_your_HEXO_blog_support_handwriting_flowchart.html\">如何让你的HEXO博客支持手写流程图？</a><script src=\"https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js\"></script><textarea id=\"sequence-0-code\" style=\"display: none\">Alice->Bob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob-->Alice: I am good thanks!</textarea><textarea id=\"sequence-0-options\" style=\"display: none\">{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12,\"theme\":\"simple\"}</textarea><script>  var code = document.getElementById(\"sequence-0-code\").value;  var options = JSON.parse(decodeURIComponent(document.getElementById(\"sequence-0-options\").value));  var diagram = Diagram.parse(code);  diagram.drawSVG(\"sequence-0\", options);</script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js\"></script><textarea id=\"flowchart-0-code\" style=\"display: none\">st=>start: Start|past:>http://www.google.com[blank]\ne=>end: End:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|request\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e</textarea><textarea id=\"flowchart-0-options\" style=\"display: none\">{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12,\"theme\":\"simple\"}</textarea><script>  var code = document.getElementById(\"flowchart-0-code\").value;  var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value));  var diagram = flowchart.parse(code);  diagram.drawSVG(\"flowchart-0\", options);</script></li>\n</ul>\n","more":"<h1 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h1><p>该文简单介绍一下在Hexo博客上画流程图。</p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"mermaid\"><a href=\"#mermaid\" class=\"headerlink\" title=\"mermaid\"></a>mermaid</h2><p>安装代码</p>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-<span class=\"built_in\">filter</span>-mermaid-diagrams</span><br></pre></td></tr></table></figure>\n<p>打开<strong>themes/next/_config.yml</strong><br>添加以下代码</p>\n<figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># mermaid chart</span></span><br><span class=\"line\"><span class=\"symbol\">mermaid:</span> <span class=\"meta\">## mermaid url https:<span class=\"comment\">//github.com/knsv/mermaid</span></span></span><br><span class=\"line\"><span class=\"symbol\">  enable:</span> true  <span class=\"meta\"># default true</span></span><br><span class=\"line\"><span class=\"symbol\">  version:</span> <span class=\"string\">&quot;7.1.2&quot;</span> <span class=\"meta\"># default v7.1.2</span></span><br><span class=\"line\"><span class=\"symbol\">  options:</span>  <span class=\"meta\"># find more api options from https:<span class=\"comment\">//github.com/knsv/mermaid/blob/master/src/mermaidAPI.js</span></span></span><br><span class=\"line\">    <span class=\"meta\">#startOnload: true  <span class=\"comment\">// default true</span></span></span><br></pre></td></tr></table></figure>\n<p>在<strong>themes/next/layout/_partials/footer.swig</strong>最后加上</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> (theme.mermaid.enable)  %&#125;</span><span class=\"language-xml\"></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&#x27;https://cdnjs.cloudflare.com/ajax/libs/mermaid/7.1.2/mermaid.min.js&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">mermaid</span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      mermaid.<span class=\"title function_\">initialize</span>(&#123;<span class=\"attr\">theme</span>: <span class=\"string\">&#x27;forest&#x27;</span>&#125;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>最后一步修改<strong>根目录的_config.yml</strong>，把external_link的值改为false，默认的为true，这一步绝大多数教程中都没有写。</p>\n<p>mermaid画流程图<br>示例代码</p>\n<blockquote>\n<p>```mermaid<br>graph TD;<br>   起床–&gt;洗漱;<br>   洗漱–&gt;吃早餐;<br>   洗漱–&gt;不吃早餐;<br>   吃早餐–&gt;出门;<br>   不吃早餐–&gt;出门;<br>```  </p>\n</blockquote>\n<p>效果如下</p>\n<pre class=\"mermaid\">graph TD;\n    起床-->洗漱;\n    洗漱-->吃早餐;\n    洗漱-->不吃早餐;\n    吃早餐-->出门;\n    不吃早餐-->出门;</pre>\n\n<h2 id=\"flow\"><a href=\"#flow\" class=\"headerlink\" title=\"flow\"></a>flow</h2><p>安装代码</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"attr\">--save</span> hexo-<span class=\"attribute\">filter</span>-flowchart</span><br></pre></td></tr></table></figure>\n<p>然后无需其余配置<br>flow画流程图示例代码如下</p>\n<blockquote>\n<p>```flow<br>st=&gt;start: Start|past:&gt;<a href=\"http://www.google.com[blank]\">http://www.google.com[blank]</a><br>e=&gt;end: End:&gt;<a href=\"http://www.google.com/\">http://www.google.com</a><br>op1=&gt;operation: My Operation|past<br>op2=&gt;operation: Stuff|current<br>sub1=&gt;subroutine: My Subroutine|invalid<br>cond=&gt;condition: Yes<br>or No?|approved:&gt;<a href=\"http://www.google.com/\">http://www.google.com</a><br>c2=&gt;condition: Good idea|rejected<br>io=&gt;inputoutput: catch something…|request<br>st-&gt;op1(right)-&gt;cond<br>cond(yes, right)-&gt;c2<br>cond(no)-&gt;sub1(left)-&gt;op1<br>c2(yes)-&gt;io-&gt;e<br>c2(no)-&gt;op2-&gt;e<br>```  </p>\n</blockquote>\n<p>flow画流程图效果如下</p>\n<div id=\"flowchart-0\" class=\"flow-chart\"></div>\n\n<h2 id=\"sequence\"><a href=\"#sequence\" class=\"headerlink\" title=\"sequence\"></a>sequence</h2><p>安装代码</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install <span class=\"attr\">--save</span> hexo-<span class=\"attribute\">filter</span>-sequence</span><br></pre></td></tr></table></figure>\n<p>然后无需其余配置。<br>sequence 画流程图示例代码</p>\n<blockquote>\n<p>```sequence<br>Alice-&gt;Bob: Hello Bob, how are you?<br>Note right of Bob: Bob thinks<br>Bob–&gt;Alice: I am good thanks!<br>```  </p>\n</blockquote>\n<p>sequence 画流程图效果如下</p>\n<div id=\"sequence-0\"></div>\n\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>相比之下,mermaid的语法最简洁，渲染成图的过程最复杂，配置也最复杂。<br>而flow和sequence相对而言配置简单一点，但是语法复杂一些。</p>\n<hr>\n<h1 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h1><ul>\n<li><a href=\"https://www.liuyude.com/How_to_make_your_HEXO_blog_support_handwriting_flowchart.html\">如何让你的HEXO博客支持手写流程图？</a><script src=\"https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/js-sequence-diagrams/1.0.6/sequence-diagram-min.js\"></script><textarea id=\"sequence-0-code\" style=\"display: none\">Alice->Bob: Hello Bob, how are you?\nNote right of Bob: Bob thinks\nBob-->Alice: I am good thanks!</textarea><textarea id=\"sequence-0-options\" style=\"display: none\">{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12,\"theme\":\"simple\"}</textarea><script>  var code = document.getElementById(\"sequence-0-code\").value;  var options = JSON.parse(decodeURIComponent(document.getElementById(\"sequence-0-options\").value));  var diagram = Diagram.parse(code);  diagram.drawSVG(\"sequence-0\", options);</script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js\"></script><script src=\"https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js\"></script><textarea id=\"flowchart-0-code\" style=\"display: none\">st=>start: Start|past:>http://www.google.com[blank]\ne=>end: End:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|request\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e</textarea><textarea id=\"flowchart-0-options\" style=\"display: none\">{\"scale\":1,\"line-width\":2,\"line-length\":50,\"text-margin\":10,\"font-size\":12,\"theme\":\"simple\"}</textarea><script>  var code = document.getElementById(\"flowchart-0-code\").value;  var options = JSON.parse(decodeURIComponent(document.getElementById(\"flowchart-0-options\").value));  var diagram = flowchart.parse(code);  diagram.drawSVG(\"flowchart-0\", options);</script></li>\n</ul>\n","categories":[{"name":"Hexo教程","path":"api/categories/Hexo教程.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"},{"name":"流程图","path":"api/tags/流程图.json"}]}
{"title":"人狼羊菜2018年过程版本","slug":"人狼羊菜2018年过程版本","date":"2018-10-30T15:48:38.000Z","updated":"2023-09-08T06:12:36.700Z","comments":true,"path":"api/articles/人狼羊菜2018年过程版本.json","excerpt":null,"covers":["/.com//%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C%E7%8A%B6%E6%80%81%E5%9B%BE.png"],"content":"<h2 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h2><h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><p>假设开始人狼羊菜都是在A岸，目的是将人狼羊菜运输到B岸。<br>人,狼,羊，菜在A岸的标识为0,在B岸的标识位为1。经过枚举可以得出16种状态中不符合的有6种。<br>如图所示</p>\n<p><img src=\"/.com//%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C%E7%8A%B6%E6%80%81%E5%9B%BE.png\" alt=\"人狼羊菜状态图\"></p>\n<p>根据以上描述的状态模式,可以将问题转化为  </p>\n<ul>\n<li>判断运输的终止状态是否合法</li>\n<li>判断人和羊是否在一侧</li>\n<li>判断人和菜是否在一侧</li>\n<li>判断人和狼是否在一侧</li>\n<li>执行人独自过河的动作</li>\n<li>执行人和羊一起过河的动作</li>\n<li>执行人和狼一起过河的动作</li>\n<li>执行人和菜一起过河的动作</li>\n</ul>\n<p>新建MoveClass类</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人狼羊菜运输类</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MoveClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>依次对应的函数如下</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 状态合法</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsVaild(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return <span class=\"keyword\">state</span> != <span class=\"number\">3</span> &amp;&amp; !(<span class=\"keyword\">state</span> &gt;= <span class=\"number\">6</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt;= 9) &amp;&amp; state != 12;</span></span><br><span class=\"line\"><span class=\"variable\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和羊在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithSheep(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return ((<span class=\"keyword\">state</span> / <span class=\"number\">2</span>) % <span class=\"number\">2</span> == <span class=\"number\">0</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt; 8) || ((state / 2) % 2 == 1 &amp;&amp; state &gt;</span>= <span class=\"number\">8</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和菜在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithGreens(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return <span class=\"keyword\">state</span> % <span class=\"number\">2</span> == <span class=\"number\">0</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt; 8 || state % 2 == 1 &amp;&amp; state &gt;</span>= <span class=\"number\">8</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和狼在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithWolf(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return !(<span class=\"keyword\">state</span> &gt;= <span class=\"number\">4</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt;= 11);</span></span><br><span class=\"line\"><span class=\"variable\">&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 只身一人过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePerson</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">8</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带羊过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithSheep</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">10</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带狼过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithWolf</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">12</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带菜过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithGreens</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">9</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>主要的逻辑函数</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void Move()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">int <span class=\"keyword\">state</span> = <span class=\"number\">0</span>, tempState;</span><br><span class=\"line\">int EndState = <span class=\"number\">15</span>;</span><br><span class=\"line\">while (<span class=\"keyword\">state</span> != EndState)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    tempState = MovePerson(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">    if (IsVaild(tempState))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人独自一人从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人独自一人从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithSheep(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithSheep(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带羊从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带羊从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithWolf(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithWolf(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带狼从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带狼从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithGreens(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithGreens(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带菜从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带菜从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>执行以上逻辑函数</p>\n<figure class=\"highlight reasonml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Console.<span class=\"constructor\">WriteLine(<span class=\"string\">&quot;MoveClass 开始&quot;</span>)</span>;</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"constructor\">MoveClass()</span>.<span class=\"constructor\">Move()</span>;</span><br><span class=\"line\">Console.<span class=\"constructor\">WriteLine(<span class=\"string\">&quot;MoveClass 结束&quot;</span>)</span>;</span><br><span class=\"line\">Console.<span class=\"constructor\">ReadKey()</span>;</span><br></pre></td></tr></table></figure>\n<p>最终运行结果如下:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MoveClass 开始</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人独自一人从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带狼从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带菜从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人独自一人从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">MoveClass 结束</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li><a href=\"https://ddabb.github.io/%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C2018%E5%B9%B4%E5%AF%B9%E8%B1%A1%E7%89%88%E6%9C%AC/\">人狼羊菜2018年对象版本</a></li>\n<li><a href=\"https://ddabb.github.io/%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C2012%E5%B9%B4%E7%89%88%E6%9C%AC/\">人狼羊菜2012年版本</a></li>\n</ul>\n","more":"<h2 id=\"序\"><a href=\"#序\" class=\"headerlink\" title=\"序\"></a>序</h2><h2 id=\"分析\"><a href=\"#分析\" class=\"headerlink\" title=\"分析\"></a>分析</h2><p>假设开始人狼羊菜都是在A岸，目的是将人狼羊菜运输到B岸。<br>人,狼,羊，菜在A岸的标识为0,在B岸的标识位为1。经过枚举可以得出16种状态中不符合的有6种。<br>如图所示</p>\n<p><img src=\"/.com//%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C%E7%8A%B6%E6%80%81%E5%9B%BE.png\" alt=\"人狼羊菜状态图\"></p>\n<p>根据以上描述的状态模式,可以将问题转化为  </p>\n<ul>\n<li>判断运输的终止状态是否合法</li>\n<li>判断人和羊是否在一侧</li>\n<li>判断人和菜是否在一侧</li>\n<li>判断人和狼是否在一侧</li>\n<li>执行人独自过河的动作</li>\n<li>执行人和羊一起过河的动作</li>\n<li>执行人和狼一起过河的动作</li>\n<li>执行人和菜一起过河的动作</li>\n</ul>\n<p>新建MoveClass类</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人狼羊菜运输类</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">MoveClass</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>依次对应的函数如下</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 状态合法</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsVaild(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return <span class=\"keyword\">state</span> != <span class=\"number\">3</span> &amp;&amp; !(<span class=\"keyword\">state</span> &gt;= <span class=\"number\">6</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt;= 9) &amp;&amp; state != 12;</span></span><br><span class=\"line\"><span class=\"variable\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和羊在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithSheep(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return ((<span class=\"keyword\">state</span> / <span class=\"number\">2</span>) % <span class=\"number\">2</span> == <span class=\"number\">0</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt; 8) || ((state / 2) % 2 == 1 &amp;&amp; state &gt;</span>= <span class=\"number\">8</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和菜在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithGreens(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return <span class=\"keyword\">state</span> % <span class=\"number\">2</span> == <span class=\"number\">0</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt; 8 || state % 2 == 1 &amp;&amp; state &gt;</span>= <span class=\"number\">8</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/// <span class=\"variable\">&lt;summary&gt;</span></span><br><span class=\"line\">/// 人和狼在一起返回真</span><br><span class=\"line\">/// &lt;/summary&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;param name=&quot;state&quot;&gt;</span>&lt;/param&gt;</span><br><span class=\"line\">/// <span class=\"variable\">&lt;returns&gt;</span>&lt;/returns&gt;</span><br><span class=\"line\">public bool IsPeopleWithWolf(int <span class=\"keyword\">state</span>)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return !(<span class=\"keyword\">state</span> &gt;= <span class=\"number\">4</span> &amp;&amp; <span class=\"keyword\">state</span> <span class=\"variable\">&lt;= 11);</span></span><br><span class=\"line\"><span class=\"variable\">&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 只身一人过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePerson</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">8</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带羊过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithSheep</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">10</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带狼过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithWolf</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">12</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> 人带菜过河</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=&quot;state&quot;&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"built_in\">int</span> <span class=\"title\">MovePersonWithGreens</span>(<span class=\"params\"><span class=\"built_in\">int</span> state</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state ^ <span class=\"number\">9</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>主要的逻辑函数</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public void Move()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">int <span class=\"keyword\">state</span> = <span class=\"number\">0</span>, tempState;</span><br><span class=\"line\">int EndState = <span class=\"number\">15</span>;</span><br><span class=\"line\">while (<span class=\"keyword\">state</span> != EndState)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    tempState = MovePerson(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">    if (IsVaild(tempState))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">        Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人独自一人从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人独自一人从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithSheep(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithSheep(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带羊从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带羊从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithWolf(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithWolf(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带狼从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带狼从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (IsPeopleWithGreens(<span class=\"keyword\">state</span>))</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        tempState = MovePersonWithGreens(<span class=\"keyword\">state</span>);</span><br><span class=\"line\">        if (IsVaild(tempState))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">state</span> = tempState;</span><br><span class=\"line\">            Console.WriteLine(<span class=\"keyword\">state</span> &gt; <span class=\"number\">8</span> ? <span class=\"string\">&quot;人带菜从A岸到达B岸&quot;</span> : <span class=\"string\">&quot;人带菜从B岸到达A岸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>执行以上逻辑函数</p>\n<figure class=\"highlight reasonml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Console.<span class=\"constructor\">WriteLine(<span class=\"string\">&quot;MoveClass 开始&quot;</span>)</span>;</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"constructor\">MoveClass()</span>.<span class=\"constructor\">Move()</span>;</span><br><span class=\"line\">Console.<span class=\"constructor\">WriteLine(<span class=\"string\">&quot;MoveClass 结束&quot;</span>)</span>;</span><br><span class=\"line\">Console.<span class=\"constructor\">ReadKey()</span>;</span><br></pre></td></tr></table></figure>\n<p>最终运行结果如下:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MoveClass 开始</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人独自一人从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带狼从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带菜从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">人独自一人从<span class=\"selector-tag\">B</span>岸到达<span class=\"selector-tag\">A</span>岸</span><br><span class=\"line\">人带羊从<span class=\"selector-tag\">A</span>岸到达<span class=\"selector-tag\">B</span>岸</span><br><span class=\"line\">MoveClass 结束</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li><a href=\"https://ddabb.github.io/%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C2018%E5%B9%B4%E5%AF%B9%E8%B1%A1%E7%89%88%E6%9C%AC/\">人狼羊菜2018年对象版本</a></li>\n<li><a href=\"https://ddabb.github.io/%E4%BA%BA%E7%8B%BC%E7%BE%8A%E8%8F%9C2012%E5%B9%B4%E7%89%88%E6%9C%AC/\">人狼羊菜2012年版本</a></li>\n</ul>\n","categories":[{"name":"逻辑思维","path":"api/categories/逻辑思维.json"}],"tags":[{"name":"人狼羊菜","path":"api/tags/人狼羊菜.json"}]}